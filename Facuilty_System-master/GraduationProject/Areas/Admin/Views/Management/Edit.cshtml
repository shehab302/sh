@using Models
@model Student
@section Scripts {

    <partial name="_TempDataPartial.cshtml">
        <partial name="_ValidationScriptsPartial.cshtml">
}
<div class="row mb-3">
            <h2><a href="/Admin/Management/Index"><i class="bi bi-arrow-left"></i></a> Edit Student</h2>
</div>

<div class="row">
    <form href="/Admin/Management/Edit" enctype="multipart/form-data" method="post">
        <div class="mb-3">

            <input type="hidden" class="form-control" id="StudentName" name="StudentId" value="@Model.StudentId">

            
           <label for="StudentName" class="form-label">First Name</label>
            <input type="text" class="form-control" id="StudentName" name="FName" value="@Model.FName">
            <span asp-validation-for="FName" class="text-bg-warning"></span>

            <label for="StudentName" class="form-label">Middle Name</label>
            <input type="text" class="form-control" id="StudentName" name="MName" value="@Model.MName">
            <span asp-validation-for="MName" class="text-bg-warning"></span> 
            
            <label for="StudentName" class="form-label">Last Name</label>
            <input type="text" class="form-control" id="StudentName" name="LName" value="@Model.LName">
            <span asp-validation-for="LName" class="text-bg-warning"></span>

            <label for="SSN" class="form-label">Student SSN</label>
            <input type="text" class="form-control" id="SSN" name="SSN" value="@Model.SSN">
            <span asp-validation-for="SSN" class="text-bg-warning"></span>

            <label for="Address" class="form-label">Student Address</label>
            <input type="text" class="form-control" id="Address" name="Address" value="@Model.Address">
            <span asp-text-for="Address" class="text-bg-warning"></span>
          
            <label for="Email" class="form-label">Student Email</label>
            <input type="text" class="form-control" id="Email" name="Email" value="@Model.Email">
            <span asp-validation-for="Email" class="text-bg-warning"></span>

            <label for="Nationailty" class="form-label">Student Nationailty</label>
            <input type="text" class="form-control" id="Nationailty" name="Nationailty" value="@Model.Nationailty">
            <span asp-validation-for="Nationailty" class="text-bg-warning"></span>
           
            <label for="BirthDate" class="form-label">Student BirthDate</label>
            <input type="date" class="form-control" id="Nationailty" name="BirthDate" value="@Model.BirthDate.ToString("yyyy-MM-dd")">
            <span asp-validation-for="BirthDate" class="text-bg-warning"></span>
          
            <label for="StudentsImgUrl" class="form-label">Student ImgUrl</label>
            <input type="file" class="form-control" id="StudentsImgUrl" name="ImgUrl" onchange="previewImage(event)" value="@Model.ImgUrl">
            <span asp-validation-for="ImgUrl" class="text-bg-warning"></span>

            <img id="imagePreview" src="~/Img/@Model.ImgUrl" alt="Image Preview" style="margin-top: 10px; max-width: 300px;">
            </br>

             <label for="ProductCategoryId" class="form-label">Student Department </label>

            <select class="form-select" asp-for="DepartmentId">
                <option value="">Select Department</option>
                @foreach (var item in ViewBag.department)
                {
                    <option value="@item.DepartmentId">@item.Name</option>
                }
            </select>
            <span asp-validation-for="DepartmentId" class="text-bg-warning"></span>
            @*             <span asp-validation-for="Name" class="text-warning"></span>
 *@

            <div class="mb-3">
                <label for="gender" class="form-label">Gender</label>
                <select class="form-select" asp-for="Gender" required>
                    <option value="">Select Gender</option>
                    @foreach (var gender in ViewBag.EnumGender)
                    {
                        <option value="@gender">@gender</option>
                    }
                </select>
                <span asp-validation-for="Gender" class="text-danger"></span>
            </div>

            <div class="mb-3">
                <label for="level" class="form-label">Level</label>
                <select class="form-select" asp-for="Level">
                    <option value="">Select Level</option>
                    @foreach (var level in ViewBag.EnumLevel)
                    {

                        <option value="@level">@level</option>

                    }
                </select>
                <span asp-validation-for="Level" class="text-warning"></span>

            </div>

        <button type="submit" class="btn btn-primary">Submit</button>
    </form>
</div>

<script>
    function previewImage(event) {
        const file = event.target.files[0];
        const preview = document.getElementById('imagePreview');

        if (file) {
            const reader = new FileReader();
            reader.onload = function (e) {
                preview.src = e.target.result;
                preview.style.display = 'block';
            }
            reader.readAsDataURL(file);
        } else {
            preview.src = '';
            preview.style.display = 'none';
        }
    }
</script>
