  @using Models
@model Employee
<div class="row mb-3">
    <h2><a href="/Admin/Management/Index"><i class="bi bi-arrow-left"></i></a> Edit Employee</h2>
</div>

<div class="row">
    <form href="/Admin/Management/Edit_Empolyee" enctype="multipart/form-data" method="post">
        <div class="mb-3">

            <input type="hidden" class="form-control" id="EmployeeName" name="EmployeeId" value="@Model.EmployeeId">


            <label for="EmployeeName" class="form-label">First Name</label>
            <input type="text" class="form-control" id="EmployeeName" name="FName" value="@Model.FName">
            <span asp-validation-for="FName" class="text-bg-warning"></span>

            <label for="EmployeeName" class="form-label">Middle Name</label>
            <input type="text" class="form-control" id="EmployeeName" name="MName" value="@Model.MName">
            <span asp-validation-for="MName" class="text-bg-warning"></span>

            <label for="EmployeeName" class="form-label">Last Name</label>
            <input type="text" class="form-control" id="EmployeeName" name="LName" value="@Model.LName">
            <span asp-validation-for="LName" class="text-bg-warning"></span>

            <label for="SSN" class="form-label">Employee SSN</label>
            <input type="text" class="form-control" id="SSN" name="SSN" value="@Model.SSN">
            <span asp-validation-for="SSN" class="text-bg-warning"></span>

            <label for="Address" class="form-label">Employee Address</label>
            <input type="text" class="form-control" id="Address" name="Address" value="@Model.Address">
            <span asp-text-for="Address" class="text-bg-warning"></span>

            <label for="Email" class="form-label">Employee Email</label>
            <input type="text" class="form-control" id="Email" name="Email" value="@Model.Email">
            <span asp-validation-for="Email" class="text-bg-warning"></span>

            <label for="Nationailty" class="form-label">Employee Nationailty</label>
            <input type="text" class="form-control" id="Nationailty" name="Nationailty" value="@Model.Nationailty">
            <span asp-validation-for="Nationailty" class="text-bg-warning"></span>

            <label for="PhoneNumer" class="form-label">Employee PhoneNumer</label>
            <input type="number" class="form-control" id="PhoneNumer" name="PhoneNumer" value="@Model.PhoneNumer">
            <span asp-validation-for="PhoneNumer" class="text-bg-warning"></span>

            <label for="BirthDate" class="form-label">Employee BirthDate</label>
            <input type="date" class="form-control" id="BirthDate" name="BirthDate" value="@Model.BirthDate.ToString("yyyy-MM-dd")">
            <span asp-validation-for="BirthDate" class="text-bg-warning"></span>

            <label for="EmployeesImgUrl" class="form-label">Employee ImgUrl</label>
            <input type="file" class="form-control" id="EmployeesImgUrl" name="ImgUrl" onchange="previewImage(event)" value="@Model.ImgUrl">
            <span asp-validation-for="ImgUrl" class="text-bg-warning"></span>

            <img id="imagePreview" src="~/Img/@Model.ImgUrl" alt="Image Preview" style="margin-top: 10px; max-width: 300px;">
            </br>

 
            <div class="mb-3">
                <label for="gender" class="form-label">Gender</label>
                <select class="form-select" asp-for="Gender" required>
                    <option value="">Select Gender</option>
                    @foreach (var gender in ViewBag.EnumGender)
                    {
                        <option value="@gender">@gender</option>
                    }
                </select>
                <span asp-validation-for="Gender" class="text-danger"></span>
            </div>

            <button type="submit" class="btn btn-primary">Submit</button>
    </form>
</div>

<script>
    function previewImage(event) {
        const file = event.target.files[0];
        const preview = document.getElementById('imagePreview');

        if (file) {
            const reader = new FileReader();
            reader.onload = function (e) {
                preview.src = e.target.result;
                preview.style.display = 'block';
            }
            reader.readAsDataURL(file);
        } else {
            preview.src = '';
            preview.style.display = 'none';
        }
    }
</script>
